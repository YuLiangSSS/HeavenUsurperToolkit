<Page x:Class="HeavenUsurperToolkit.LNTransformer"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:HeavenUsurperToolkit"
      mc:Ignorable="d" 
      d:DesignHeight="850" d:DesignWidth="800"
      Title="LNTransformer">

    <Grid>
        <Rectangle Height="65" VerticalAlignment="Top"/>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Rectangle Grid.Row="8" Fill="#FFCFAEFD" Margin="0,9,0,0" AllowDrop="True" Drop="Rectangle_Drop" Grid.ColumnSpan="2" VerticalAlignment="Stretch"/>

            <Button x:Name="BackButton" Content="←" Height="45" Width="45" Margin="10,0,0,10" 
            HorizontalAlignment="Left" VerticalAlignment="Bottom" Style="{StaticResource ModernButton}" 
            FontSize="30" Click="BackButton_Click" Grid.Row="8" />

            <StackPanel Grid.Row="0" Grid.ColumnSpan="2" HorizontalAlignment="Stretch" Margin="10,70,10,0">
                <Slider Style="{StaticResource ModernSlider}" Maximum="10" Minimum="-3" Value="3" IsSnapToTickEnabled="True" TickFrequency="1" x:Name="LevelValue" HorizontalAlignment="Stretch" VerticalAlignment="Center">
                    <Slider.ToolTip>
                        <TextBlock>
                            <Run Text="Level -3: Hold off"/>
                            <LineBreak/>
                            <Run Text="Level -2: Random ms"/>
                            <LineBreak/>
                            <Run Text="Level -1: Random divide"/>
                            <LineBreak/>
                            <Run Text="Level 0: Regular LN"/>
                            <LineBreak/>
                            <Run Text="Level 3: Light LN"/>
                            <LineBreak/>
                            <Run Text="Level 5: Medium LN"/>
                            <LineBreak/>
                            <Run Text="Level 7: Dense LN"/>
                            <LineBreak/>
                            <Run Text="Level 10: Full LN"/>
                        </TextBlock>
                    </Slider.ToolTip>
                </Slider>
                <TextBlock Text="{Binding ElementName=LevelValue, Path=Value, StringFormat='Level {0}'}" HorizontalAlignment="Center" 
                           Margin="0,5,0,0" FontSize="20" Foreground="#FF8E6CDC" FontWeight="Bold">
                    <TextBlock.ToolTip>
                        <TextBlock>
                            <Run Text="Level -3: Hold off"/>
                            <LineBreak/>
                            <Run Text="Level -2: Random ms"/>
                            <LineBreak/>
                            <Run Text="Level -1: Random divide"/>
                            <LineBreak/>
                            <Run Text="Level 0: Regular LN"/>
                            <LineBreak/>
                            <Run Text="Level 3: Light LN"/>
                            <LineBreak/>
                            <Run Text="Level 5: Medium LN"/>
                            <LineBreak/>
                            <Run Text="Level 7: Dense LN"/>
                            <LineBreak/>
                            <Run Text="Level 10: Full LN"/>
                        </TextBlock>
                    </TextBlock.ToolTip>
                </TextBlock>
            </StackPanel>

            <StackPanel Grid.Row="1" Grid.ColumnSpan="2" HorizontalAlignment="Stretch" Margin="10,10,10,0">
                <Slider Style="{StaticResource ModernSlider}" Maximum="100" Minimum="0" Value="100" IsSnapToTickEnabled="True" TickFrequency="1" x:Name="PercentageValue"/>
                <TextBlock Text="{Binding ElementName=PercentageValue, Path=Value, StringFormat='LN {0}%'}" HorizontalAlignment="Center" 
                    Margin="0,5,0,0" TextWrapping="Wrap" Foreground="#FF8E6CDC" FontSize="20" FontWeight="Bold"/>
            </StackPanel>

            <StackPanel Grid.Row="2" Grid.ColumnSpan="2" HorizontalAlignment="Stretch" Margin="10,10,10,0">
                <Slider Style="{StaticResource ModernSlider}" Maximum="16" Minimum="1" Value="4" IsSnapToTickEnabled="True" TickFrequency="1" x:Name="DivideValue"/>
                <TextBlock Text="{Binding Value, ElementName=DivideValue, StringFormat=Divide 1/\{0\}}" HorizontalAlignment="Center" 
                    Margin="0,5,0,0" TextWrapping="Wrap" Foreground="#FF8E6CDC" FontSize="20" FontWeight="Bold"/>
            </StackPanel>

            <StackPanel Grid.Row="3" Grid.ColumnSpan="2" HorizontalAlignment="Stretch" Margin="10,10,10,0">
                <Slider Style="{StaticResource ModernSlider}" Maximum="10" Minimum="0" Value="10" IsSnapToTickEnabled="True" TickFrequency="1" x:Name="ColumnValue"/>
                <TextBlock Text="{Binding Value, ElementName=ColumnValue, StringFormat=Column \{0\}}" HorizontalAlignment="Center" 
                    Margin="0,5,0,0" TextWrapping="Wrap" Foreground="#FF8E6CDC" FontSize="20" FontWeight="Bold"/>
            </StackPanel>

            <StackPanel Grid.Row="4" Grid.ColumnSpan="2" HorizontalAlignment="Stretch" Margin="10,10,10,0">
                <Slider Style="{StaticResource ModernSlider}" Maximum="20" Minimum="0" Value="12" IsSnapToTickEnabled="True" TickFrequency="1" x:Name="GapValue"/>
                <TextBlock Text="{Binding Value, ElementName=GapValue, StringFormat=Gap \{0\}}" HorizontalAlignment="Center" 
                    Margin="0,5,0,0" TextWrapping="Wrap" Foreground="#FF8E6CDC" FontSize="20" FontWeight="Bold"/>
            </StackPanel>

            <Grid Grid.Row="5" Grid.Column="0" Margin="10,5,0,5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <CheckBox x:Name="CreatorCheckBox" Content="Creator" Style="{StaticResource ModernCheckBox}" VerticalAlignment="Center" FontSize="18" HorizontalAlignment="Left" Width="100" IsChecked="False"/>
                <TextBox x:Name="CreatorText" TextWrapping="Wrap" VerticalAlignment="Center" Style="{StaticResource ModernTextBox}" HorizontalAlignment="Stretch" Margin="110,0,0,0" Grid.Column="1"/>
            </Grid>

            <Grid Grid.Row="6" Grid.Column="0" Margin="10,5,0,5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <TextBlock Foreground="#FF8E6CDC" Grid.Column="0" TextWrapping="Wrap" Text="Random Seed" VerticalAlignment="Center" HorizontalAlignment="Left" FontSize="18" FontWeight="Bold"/>
                <TextBox x:Name="SeedText" Grid.Column="1" TextWrapping="Wrap" Text="114514" VerticalAlignment="Center" Style="{StaticResource ModernTextBox}" HorizontalAlignment="Stretch" Margin="85,0,0,0"/>
            </Grid>

            <Grid Grid.Row="7" Grid.Column="0" Margin="10,5,0,5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <TextBlock Foreground="#FF8E6CDC" Grid.Column="0" Margin="0,0,10,0" TextWrapping="Wrap" Text="Overall Difficulty" VerticalAlignment="Center" HorizontalAlignment="Left" FontWeight="Bold" FontSize="18"/>
                <TextBox x:Name="OverallDifficulty" Grid.Column="1" TextWrapping="Wrap" Text="0" VerticalAlignment="Center" Style="{StaticResource ModernTextBox}" HorizontalAlignment="Stretch" Margin="47,0,0,0"/>
            </Grid>
            
            <WrapPanel Grid.Row="8" Grid.ColumnSpan="2" Grid.Column="0" VerticalAlignment="Top" HorizontalAlignment="Center" Width="780" ItemWidth="78" ItemHeight="30" Height="30" Margin="0,20,0,0">
                <CheckBox x:Name="C1k" Content="1k" Style="{StaticResource ModernCheckBox}"/>
                <CheckBox x:Name="C2k" Content="2k" Style="{StaticResource ModernCheckBox}"/>
                <CheckBox x:Name="C3k" Content="3k" Style="{StaticResource ModernCheckBox}"/>
                <CheckBox x:Name="C4k" Content="4k" Style="{StaticResource ModernCheckBox}"/>
                <CheckBox x:Name="C5k" Content="5k" Style="{StaticResource ModernCheckBox}"/>
                <CheckBox x:Name="C6k" Content="6k" Style="{StaticResource ModernCheckBox}"/>
                <CheckBox x:Name="C7k" Content="7k" Style="{StaticResource ModernCheckBox}"/>
                <CheckBox x:Name="C8k" Content="8k" Style="{StaticResource ModernCheckBox}"/>
                <CheckBox x:Name="C9k" Content="9k" Style="{StaticResource ModernCheckBox}"/>
                <CheckBox x:Name="C10k" Content="10k" Style="{StaticResource ModernCheckBox}"/>
            </WrapPanel>

            <CheckBox x:Name="Ignore" Grid.Row="5" Grid.Column="1" Content="Ignore" Style="{StaticResource ModernCheckBox}" IsChecked="True" VerticalAlignment="Top" Margin="0,10,37,0" FontSize="18" HorizontalAlignment="Right" Width="104"/>
            <CheckBox x:Name="FixError" Grid.Row="6" Grid.Column="1" Content="Fix Error" Style="{StaticResource ModernCheckBox}" IsChecked="True" VerticalAlignment="Top" Margin="0,10,37,0" FontSize="18" HorizontalAlignment="Right" Width="104"/>
            <CheckBox x:Name="OriginalLN" Grid.Row="7" Grid.Column="1" Content="Original LN" Style="{StaticResource ModernCheckBox}" VerticalAlignment="Top" Margin="0,10,10,0" FontSize="18" HorizontalAlignment="Right" Width="131" IsChecked="False"/>
        </Grid>
        <Button x:Name="InstructionButton" Content="Instruction" Style="{StaticResource ModernButton}" 
            Click="InstructionButton_Click" MouseRightButtonDown="InstructionButton_MouseRightButtonDown" Margin="0,0,10,10" Height="45" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="130"/>
        <StackPanel x:Name="ProgressStackPanel" VerticalAlignment="Bottom" HorizontalAlignment="Center" Margin="0,0,0,60">
            <ProgressBar x:Name="ConversionProgress" Minimum="0" Maximum="100" Height="20" Width="400" Margin="0,0,0,5" Style="{StaticResource ModernProgressBar}"/>
            <TextBlock x:Name="ProgressText" Text="0/0" HorizontalAlignment="Center" FontSize="20" Foreground="#FF8E6CDC" FontWeight="Bold"/>
        </StackPanel>
        <TextBlock Text="Drop Folder or .osu File" VerticalAlignment="Center" 
            HorizontalAlignment="Center" FontSize="24" Foreground="#FF8E6CDC" FontWeight="Bold" Margin="0,500,0,0" Drop="TextBlock_Drop"/>
    </Grid>
</Page>
